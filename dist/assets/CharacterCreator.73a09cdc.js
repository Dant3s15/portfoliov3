import{j as l,a as m,r as o,L as P,B as V,C as K}from"./index.c88e1274.js";import{C as Q}from"./CardGlass.96490a82.js";const U="_tooltip_mqu57_38";var X={tooltip:U};const Y=e=>{const d=(a,k)=>{if(a)return a.length>k?`${a.slice(0,k)}...`:a};return l("div",{className:X.tooltip,children:d(e.data.description,230)})},Z="_skill_1yeqg_459",ee="_icon_1yeqg_499",le="_name_1yeqg_519",te="_level_1yeqg_582",se="_slideinfromtop_1yeqg_1",ie="_dummy_1yeqg_1",oe="_shine_1yeqg_1",ne="_shine2_1yeqg_1",ce="_flicker_1yeqg_1",ae="_flicker2_1yeqg_1",_e="_flicker3_1yeqg_1",re="_flickerrev_1yeqg_1",de="_shine3_1yeqg_1",ke="_shine4_1yeqg_1",me="_blink_1yeqg_1",ue="_blink2_1yeqg_1",he="_pxmove_1yeqg_1",fe="_lineheight_1yeqg_1",ge="_lineheight2_1yeqg_1",ve="_popzoom_1yeqg_1",xe="_cardmove_1yeqg_1",qe="_cardmoverev_1yeqg_1",$e="_jump_1yeqg_1",be="_jumpnorotate_1yeqg_1",ye="_slidedown_1yeqg_1",Se="_backdropblur_1yeqg_1",pe="_cardrotate_1yeqg_1",we="_cardrotate2_1yeqg_1",Ne="_fadein_1yeqg_1",Ae="_opacity_1yeqg_1",Ce="_cursor_1yeqg_1",ze="_cardslide_1yeqg_1",je="_cardslidenotranslate_1yeqg_1",Le="_cardslideback_1yeqg_1",Fe="_zindex_1yeqg_1",Ie="_zindexback_1yeqg_1",Te="_test_1yeqg_1",De="_skillin_1yeqg_1",Re="_skillout_1yeqg_1",He="_levelblink_1yeqg_1",Ee="_tilepopup_1yeqg_1";var g={skill:Z,icon:ee,name:le,"manage-skill":"_manage-skill_1yeqg_552",level:te,slideinfromtop:se,"level-number":"_level-number_1yeqg_597","has-tooltip":"_has-tooltip_1yeqg_622","slide-right-left":"_slide-right-left_1yeqg_1","slide-left-right":"_slide-left-right_1yeqg_1","rotate-left-right":"_rotate-left-right_1yeqg_1",dummy:ie,shine:oe,shine2:ne,flicker:ce,flicker2:ae,flicker3:_e,flickerrev:re,shine3:de,shine4:ke,blink:me,blink2:ue,pxmove:he,lineheight:fe,lineheight2:ge,popzoom:ve,cardmove:xe,cardmoverev:qe,jump:$e,jumpnorotate:be,slidedown:ye,backdropblur:Se,cardrotate:pe,cardrotate2:we,fadein:Ne,opacity:Ae,cursor:Ce,cardslide:ze,cardslidenotranslate:je,cardslideback:Le,zindex:Fe,zindexback:Ie,test:Te,skillin:De,skillout:Re,levelblink:He,tilepopup:Ee};const T=e=>{var k,u;const d=(r,n)=>r.length>n?`${r.slice(0,n)}...`:r,a=l("div",{className:g.level,children:l("p",{className:g["level-number"],children:e.data.level},Math.random())});return m("div",{className:`${g.skill} ${((k=e==null?void 0:e.onTooltip)==null?void 0:k.whichTooltip)===((u=e==null?void 0:e.data)==null?void 0:u.id)?g["has-tooltip"]:""}`,onClick:()=>{var r,n,_,v;console.log("click"),((r=e==null?void 0:e.data)==null?void 0:r.id)!==((n=e==null?void 0:e.onTooltip)==null?void 0:n.whichTooltip)?(v=e==null?void 0:e.onTooltip)==null||v.setWhichTooltip((_=e==null?void 0:e.data)==null?void 0:_.id):e.onTooltip.setWhichTooltip(void 0)},children:[l("div",{className:g.icon,children:l("img",{src:e.data.icon,alt:`${e.data.names[0]} icon`})}),l("div",{className:g.name,children:d(e.data.names[0],10)}),e.data.level?a:"",l("button",{onClick:r=>{r.stopPropagation(),e.onSkillChange(e.data)},className:g["manage-skill"],children:l("p",{children:e.sign})}),l(Y,{data:e.data})]})},We="_blur_ukm8q_459",Be="_opacity_ukm8q_1",Oe="_title_ukm8q_481",Ge="_levelblink_ukm8q_1",Je="_levels_ukm8q_492",Me="_dummy_ukm8q_1",Pe="_shine_ukm8q_1",Ve="_shine2_ukm8q_1",Ke="_flicker_ukm8q_1",Qe="_flicker2_ukm8q_1",Ue="_flicker3_ukm8q_1",Xe="_flickerrev_ukm8q_1",Ye="_shine3_ukm8q_1",Ze="_shine4_ukm8q_1",el="_blink_ukm8q_1",ll="_blink2_ukm8q_1",tl="_pxmove_ukm8q_1",sl="_lineheight_ukm8q_1",il="_lineheight2_ukm8q_1",ol="_popzoom_ukm8q_1",nl="_cardmove_ukm8q_1",cl="_cardmoverev_ukm8q_1",al="_jump_ukm8q_1",_l="_jumpnorotate_ukm8q_1",rl="_slidedown_ukm8q_1",dl="_backdropblur_ukm8q_1",kl="_cardrotate_ukm8q_1",ml="_cardrotate2_ukm8q_1",ul="_fadein_ukm8q_1",hl="_cursor_ukm8q_1",fl="_cardslide_ukm8q_1",gl="_cardslidenotranslate_ukm8q_1",vl="_cardslideback_ukm8q_1",xl="_zindex_ukm8q_1",ql="_zindexback_ukm8q_1",$l="_test_ukm8q_1",bl="_skillin_ukm8q_1",yl="_skillout_ukm8q_1",Sl="_slideinfromtop_ukm8q_1",pl="_tilepopup_ukm8q_1";var q={blur:We,opacity:Be,"skill-add-window":"_skill-add-window_ukm8q_471",title:Oe,levelblink:Ge,levels:Je,"slide-right-left":"_slide-right-left_ukm8q_1","slide-left-right":"_slide-left-right_ukm8q_1","rotate-left-right":"_rotate-left-right_ukm8q_1",dummy:Me,shine:Pe,shine2:Ve,flicker:Ke,flicker2:Qe,flicker3:Ue,flickerrev:Xe,shine3:Ye,shine4:Ze,blink:el,blink2:ll,pxmove:tl,lineheight:sl,lineheight2:il,popzoom:ol,cardmove:nl,cardmoverev:cl,jump:al,jumpnorotate:_l,slidedown:rl,backdropblur:dl,cardrotate:kl,cardrotate2:ml,fadein:ul,cursor:hl,cardslide:fl,cardslidenotranslate:gl,cardslideback:vl,zindex:xl,zindexback:ql,test:$l,skillin:bl,skillout:yl,slideinfromtop:Sl,tilepopup:pl};const wl=e=>{const[d,a]=o.exports.useState(null),k=o.exports.useRef(null),u=n=>{let _=+n;a(+n),e.skillData.level=_,e.onSetLevel(!0)},r=()=>{e.skillData.level=0,e.onSetLevel(!1),e.onCancel()};return l("div",{className:q.blur,onClick:r,children:m("div",{className:q["skill-add-window"],onClick:n=>{n.stopPropagation()},children:[l("p",{className:q.title,children:"Adding Skill"}),l(T,{onSkillChange:e.onSkillAdd,data:e.skillData,sign:"+"}),l("div",{className:q.levels,children:l("input",{onChange:()=>{var n;u((n=k.current)==null?void 0:n.value)},ref:k,type:"range",min:"1",max:"10"})})]})})},Nl="_title_o5xe6_487",Al="_level_o5xe6_522",Cl="_all_o5xe6_581",zl="_skillout_o5xe6_1",jl="_added_o5xe6_585",Ll="_skillin_o5xe6_1",Fl="_dummy_o5xe6_1",Il="_shine_o5xe6_1",Tl="_shine2_o5xe6_1",Dl="_flicker_o5xe6_1",Rl="_flicker2_o5xe6_1",Hl="_flicker3_o5xe6_1",El="_flickerrev_o5xe6_1",Wl="_shine3_o5xe6_1",Bl="_shine4_o5xe6_1",Ol="_blink_o5xe6_1",Gl="_blink2_o5xe6_1",Jl="_pxmove_o5xe6_1",Ml="_lineheight_o5xe6_1",Pl="_lineheight2_o5xe6_1",Vl="_popzoom_o5xe6_1",Kl="_cardmove_o5xe6_1",Ql="_cardmoverev_o5xe6_1",Ul="_jump_o5xe6_1",Xl="_jumpnorotate_o5xe6_1",Yl="_slidedown_o5xe6_1",Zl="_backdropblur_o5xe6_1",et="_cardrotate_o5xe6_1",lt="_cardrotate2_o5xe6_1",tt="_fadein_o5xe6_1",st="_opacity_o5xe6_1",it="_cursor_o5xe6_1",ot="_cardslide_o5xe6_1",nt="_cardslidenotranslate_o5xe6_1",ct="_cardslideback_o5xe6_1",at="_zindex_o5xe6_1",_t="_zindexback_o5xe6_1",rt="_test_o5xe6_1",dt="_slideinfromtop_o5xe6_1",kt="_levelblink_o5xe6_1",mt="_tilepopup_o5xe6_1";var c={"skill-selector--card":"_skill-selector--card_o5xe6_459","skill-selector":"_skill-selector_o5xe6_459","skills-selector__grid":"_skills-selector__grid_o5xe6_480","title-row":"_title-row_o5xe6_487",title:Nl,"skills-menu":"_skills-menu_o5xe6_501",level:Al,"search-field":"_search-field_o5xe6_525","search-label":"_search-label_o5xe6_556",all:Cl,skillout:zl,added:jl,skillin:Ll,"slide-right-left":"_slide-right-left_o5xe6_1","slide-left-right":"_slide-left-right_o5xe6_1","rotate-left-right":"_rotate-left-right_o5xe6_1",dummy:Fl,shine:Il,shine2:Tl,flicker:Dl,flicker2:Rl,flicker3:Hl,flickerrev:El,shine3:Wl,shine4:Bl,blink:Ol,blink2:Gl,pxmove:Jl,lineheight:Ml,lineheight2:Pl,popzoom:Vl,cardmove:Kl,cardmoverev:Ql,jump:Ul,jumpnorotate:Xl,slidedown:Yl,backdropblur:Zl,cardrotate:et,cardrotate2:lt,fadein:tt,opacity:st,cursor:it,cardslide:ot,cardslidenotranslate:nt,cardslideback:ct,zindex:at,zindexback:_t,test:rt,slideinfromtop:dt,levelblink:kt,tilepopup:mt};const ut=e=>{const[d,a]=o.exports.useState([]),[k,u]=o.exports.useState(d),[r,n]=o.exports.useState(!1),[_,v]=o.exports.useState([]),[D,N]=o.exports.useState(_),[R,A]=o.exports.useState(!1),[b,y]=o.exports.useState(!1),[H,S]=o.exports.useState(!1),[E,W]=o.exports.useState(e.allSkillsData[0]),[B,C]=o.exports.useState(!1),[O,z]=o.exports.useState(void 0),j=o.exports.useRef(null),L=o.exports.useRef(null);o.exports.useEffect(()=>{a(e.allSkillsData)},[e.isLoading]),o.exports.useEffect(()=>{if(localStorage.getItem("leftChar")){const s=JSON.parse(localStorage.getItem("leftChar")||"");v(s);const t=s.map(i=>i.name);a(i=>i.filter(h=>!t.includes(h.name)))}},[]);const F=()=>{var i,h;const s=(i=j.current)==null?void 0:i.value.toLowerCase(),t=(h=L.current)==null?void 0:h.value.toLowerCase();if(s){const p=d.filter(w=>w.names[0].toLowerCase().includes(s));n(!0),u(p)}else n(!1);if(t!==void 0){const p=_.filter(w=>w.names[0].toLowerCase().includes(t));A(!0),N(p)}else A(!1)},G=()=>{y(!1),S(!1)},f=s=>s.sort((t,i)=>t.names[0].localeCompare(i.names[0])),I=s=>{d.some(t=>t===s)?(y(!0),W(s),b&&!H&&(a(t=>f(t.filter(i=>i!==s))),u(t=>f(t.filter(i=>i!==s))),v(t=>f([...d.filter(i=>i===s),...t])),y(!1),S(!1))):d.some(t=>t!==s)&&(b||(v(t=>f(t.filter(i=>i!==s))),N(t=>f(t.filter(i=>i!==s))),a(t=>f([..._.filter(i=>(s.level=0,i===s)),...t])))),C(!1)},J=s=>{B?(z(void 0),S(!0),I(s)):console.log("scroll")},M=()=>{if(_.length===0){console.log("add Skills");return}else localStorage.setItem("leftChar",JSON.stringify(_)),window.dispatchEvent(new Event("storage"))},x=(s,t)=>f(s).map(h=>{if(h.id!==0)return l(T,{onTooltip:{whichTooltip:O,setWhichTooltip:z},onSkillChange:I,data:h,sign:t},h.id)});return l(o.exports.Fragment,{children:l(Q,{className:c["skill-selector--card"],children:e.isLoading?l(P,{}):m("div",{className:c["skill-selector"],children:[b&&l(wl,{onSetLevel:C,onCancel:G,onSkillAdd:J,skillData:E}),m("div",{className:c["skills-selector__grid"],children:[m("div",{className:c["title-row"],children:[l("p",{className:c.title,children:"All Skills"}),m("div",{className:c["search-field"],children:[l("label",{className:c["search-label"],htmlFor:"search-all",children:"Search"}),l("input",{onChange:F,ref:j,id:"search-all",type:"text"})]})]}),m("div",{className:c["title-row"],children:[l("p",{className:c.title,children:"Added Skills"}),m("div",{className:c["search-field"],children:[l("label",{className:c["search-label"],htmlFor:"search-added",children:"Search"}),l("input",{onChange:F,ref:L,id:"search-added",type:"text"})]})]}),l("div",{className:`${c["skills-menu"]} ${c.all}`,children:x(r===!1?d:k,"+")}),l("div",{className:`${c["skills-menu"]} ${c.added}`,children:x(R===!1?_:D,"-")})]}),l(V,{onClick:M,type:"submit",text:"Save Character",isGreyedOut:_.length===0})]})})})},ht="_creator_1cdhh_38";var $={creator:ht,"skill-selector__col":"_skill-selector__col_1cdhh_61","image-selector__col":"_image-selector__col_1cdhh_78","image-selector":"_image-selector_1cdhh_78"};const vt=e=>m("section",{id:"creator",className:$.creator,children:[l("div",{className:$["skill-selector__col"],children:l(ut,{allSkillsData:e.allSkillsData,isLoading:e.isLoading},Math.random())}),l("div",{className:$["image-selector__col"],children:l("div",{className:`${$["image-selector"]} cancel-absolute`,children:l(K,{onRotateCharacters:()=>{},data:3,name:"Front"})})})]});export{vt as default};
