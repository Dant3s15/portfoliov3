import{j as s,T as K,a as f,r as c,L as Q,B as X,m as Y,C as Z}from"./index.8262df54.js";import{C as D}from"./CardGlass.9924b2f1.js";const T="_title_1dqm9_508",ee="_level_1dqm9_545",se="_all_1dqm9_604",te="_skillout_1dqm9_1",le="_added_1dqm9_608",ie="_skillin_1dqm9_1",re="_dummy_1dqm9_1",ce="_shine_1dqm9_1",oe="_shine2_1dqm9_1",ne="_flicker_1dqm9_1",_e="_flicker2_1dqm9_1",ae="_flicker3_1dqm9_1",de="_flickerrev_1dqm9_1",me="_shine3_1dqm9_1",he="_shine4_1dqm9_1",fe="_blink_1dqm9_1",ke="_blink2_1dqm9_1",pe="_pxmove_1dqm9_1",ue="_lineheight_1dqm9_1",ve="_lineheight2_1dqm9_1",xe="_popzoom_1dqm9_1",qe="_cardmove_1dqm9_1",$e="_cardmoverev_1dqm9_1",be="_jump_1dqm9_1",ge="_jumpnorotate_1dqm9_1",je="_slidedown_1dqm9_1",Se="_backdropblur_1dqm9_1",we="_cardrotate_1dqm9_1",Ne="_cardrotate2_1dqm9_1",Ae="_fadein_1dqm9_1",ye="_opacity_1dqm9_1",Ce="_cursor_1dqm9_1",ze="_cardslide_1dqm9_1",Ie="_cardslidenotranslate_1dqm9_1",Fe="_cardslideback_1dqm9_1",Le="_zindex_1dqm9_1",He="_zindexback_1dqm9_1",Ee="_test_1dqm9_1",Re="_slideinfromtop_1dqm9_1",Pe="_levelblink_1dqm9_1",We="_tilepopup_1dqm9_1",Oe="_dropshadow_1dqm9_1";var a={"skill-selector--card":"_skill-selector--card_1dqm9_477","skill-selector":"_skill-selector_1dqm9_477","skills-selector__grid":"_skills-selector__grid_1dqm9_501","title-row":"_title-row_1dqm9_508",title:T,"skills-menu":"_skills-menu_1dqm9_522",level:ee,"search-field":"_search-field_1dqm9_548","search-label":"_search-label_1dqm9_579",all:se,skillout:te,added:le,skillin:ie,"slide-right-left":"_slide-right-left_1dqm9_1","slide-left-right":"_slide-left-right_1dqm9_1","rotate-left-right":"_rotate-left-right_1dqm9_1",dummy:re,shine:ce,shine2:oe,flicker:ne,flicker2:_e,flicker3:ae,flickerrev:de,shine3:me,shine4:he,blink:fe,blink2:ke,pxmove:pe,lineheight:ue,lineheight2:ve,popzoom:xe,cardmove:qe,cardmoverev:$e,jump:be,jumpnorotate:ge,slidedown:je,backdropblur:Se,cardrotate:we,cardrotate2:Ne,fadein:Ae,opacity:ye,cursor:Ce,cardslide:ze,cardslidenotranslate:Ie,cardslideback:Fe,zindex:Le,zindexback:He,test:Ee,slideinfromtop:Re,levelblink:Pe,tilepopup:We,dropshadow:Oe};const Ve="_tooltip_1hrry_38";var Be={tooltip:Ve};const Ge=({data:e})=>{const r=(o,d)=>{if(o)return o.length>d?`${o.slice(0,d)}...`:o};return s("div",{className:Be.tooltip,children:r(e.description,230)})},Je="_skill_6afes_477",Me="_icon_6afes_517",Ue="_name_6afes_539",Ke="_level_6afes_604",Qe="_slideinfromtop_6afes_1",Xe="_dummy_6afes_1",Ye="_shine_6afes_1",Ze="_shine2_6afes_1",De="_flicker_6afes_1",Te="_flicker2_6afes_1",es="_flicker3_6afes_1",ss="_flickerrev_6afes_1",ts="_shine3_6afes_1",ls="_shine4_6afes_1",is="_blink_6afes_1",rs="_blink2_6afes_1",cs="_pxmove_6afes_1",os="_lineheight_6afes_1",ns="_lineheight2_6afes_1",_s="_popzoom_6afes_1",as="_cardmove_6afes_1",ds="_cardmoverev_6afes_1",ms="_jump_6afes_1",hs="_jumpnorotate_6afes_1",fs="_slidedown_6afes_1",ks="_backdropblur_6afes_1",ps="_cardrotate_6afes_1",us="_cardrotate2_6afes_1",vs="_fadein_6afes_1",xs="_opacity_6afes_1",qs="_cursor_6afes_1",$s="_cardslide_6afes_1",bs="_cardslidenotranslate_6afes_1",gs="_cardslideback_6afes_1",js="_zindex_6afes_1",Ss="_zindexback_6afes_1",ws="_test_6afes_1",Ns="_skillin_6afes_1",As="_skillout_6afes_1",ys="_levelblink_6afes_1",Cs="_tilepopup_6afes_1",zs="_dropshadow_6afes_1";var v={skill:Je,icon:Me,name:Ue,"manage-skill":"_manage-skill_6afes_574",level:Ke,slideinfromtop:Qe,"level-number":"_level-number_6afes_622","has-tooltip":"_has-tooltip_6afes_652","slide-right-left":"_slide-right-left_6afes_1","slide-left-right":"_slide-left-right_6afes_1","rotate-left-right":"_rotate-left-right_6afes_1",dummy:Xe,shine:Ye,shine2:Ze,flicker:De,flicker2:Te,flicker3:es,flickerrev:ss,shine3:ts,shine4:ls,blink:is,blink2:rs,pxmove:cs,lineheight:os,lineheight2:ns,popzoom:_s,cardmove:as,cardmoverev:ds,jump:ms,jumpnorotate:hs,slidedown:fs,backdropblur:ks,cardrotate:ps,cardrotate2:us,fadein:vs,opacity:xs,cursor:qs,cardslide:$s,cardslidenotranslate:bs,cardslideback:gs,zindex:js,zindexback:Ss,test:ws,skillin:Ns,skillout:As,levelblink:ys,tilepopup:Cs,dropshadow:zs};const R=({data:e,onTooltip:r,onSkillChange:o,sign:d})=>{const x=(n,k)=>n.length>k?`${n.slice(0,k)}...`:n,q=s(K,{placement:"top",title:`${e.name.toUpperCase()} Proficiency Level`,children:s("div",{className:v.level,children:s("p",{className:v["level-number"],children:e.level},Math.random())})});return f("div",{className:`${v.skill} ${(r==null?void 0:r.whichTooltip)===(e==null?void 0:e.id)?v["has-tooltip"]:""}`,onClick:()=>{console.log("click"),(e==null?void 0:e.id)!==(r==null?void 0:r.whichTooltip)?r==null||r.setWhichTooltip(e==null?void 0:e.id):r.setWhichTooltip(void 0)},children:[s("div",{className:v.icon,children:s("img",{src:e==null?void 0:e.icon,alt:`${e==null?void 0:e.names[0]} icon`})}),s("div",{className:v.name,children:x(e.names[0],12)}),e.level?q:"",s("button",{onClick:n=>{n.stopPropagation(),o(e)},className:v["manage-skill"],children:d}),s(Ge,{data:e})]})},Is="_blur_x3tjq_477",Fs="_opacity_x3tjq_1",Ls="_title_x3tjq_499",Hs="_levelblink_x3tjq_1",Es="_levels_x3tjq_510",Rs="_dropshadow_x3tjq_1",Ps="_dummy_x3tjq_1",Ws="_shine_x3tjq_1",Os="_shine2_x3tjq_1",Vs="_flicker_x3tjq_1",Bs="_flicker2_x3tjq_1",Gs="_flicker3_x3tjq_1",Js="_flickerrev_x3tjq_1",Ms="_shine3_x3tjq_1",Us="_shine4_x3tjq_1",Ks="_blink_x3tjq_1",Qs="_blink2_x3tjq_1",Xs="_pxmove_x3tjq_1",Ys="_lineheight_x3tjq_1",Zs="_lineheight2_x3tjq_1",Ds="_popzoom_x3tjq_1",Ts="_cardmove_x3tjq_1",et="_cardmoverev_x3tjq_1",st="_jump_x3tjq_1",tt="_jumpnorotate_x3tjq_1",lt="_slidedown_x3tjq_1",it="_backdropblur_x3tjq_1",rt="_cardrotate_x3tjq_1",ct="_cardrotate2_x3tjq_1",ot="_fadein_x3tjq_1",nt="_cursor_x3tjq_1",_t="_cardslide_x3tjq_1",at="_cardslidenotranslate_x3tjq_1",dt="_cardslideback_x3tjq_1",mt="_zindex_x3tjq_1",ht="_zindexback_x3tjq_1",ft="_test_x3tjq_1",kt="_skillin_x3tjq_1",pt="_skillout_x3tjq_1",ut="_slideinfromtop_x3tjq_1",vt="_tilepopup_x3tjq_1";var b={blur:Is,opacity:Fs,"skill-add-window":"_skill-add-window_x3tjq_489",title:Ls,levelblink:Hs,levels:Es,"click-me":"_click-me_x3tjq_564",dropshadow:Rs,"slide-right-left":"_slide-right-left_x3tjq_1","slide-left-right":"_slide-left-right_x3tjq_1","rotate-left-right":"_rotate-left-right_x3tjq_1",dummy:Ps,shine:Ws,shine2:Os,flicker:Vs,flicker2:Bs,flicker3:Gs,flickerrev:Js,shine3:Ms,shine4:Us,blink:Ks,blink2:Qs,pxmove:Xs,lineheight:Ys,lineheight2:Zs,popzoom:Ds,cardmove:Ts,cardmoverev:et,jump:st,jumpnorotate:tt,slidedown:lt,backdropblur:it,cardrotate:rt,cardrotate2:ct,fadein:ot,cursor:nt,cardslide:_t,cardslidenotranslate:at,cardslideback:dt,zindex:mt,zindexback:ht,test:ft,skillin:kt,skillout:pt,slideinfromtop:ut,tilepopup:vt};const xt=({skillData:e,onSetLevel:r,onCancel:o,onSkillAdd:d})=>{const[x,q]=c.exports.useState(null),n=c.exports.useRef(null);c.exports.useEffect(()=>{const _=n==null?void 0:n.current;_&&(_.value="5")},[]);const k=_=>{let p=+_;q(+_),e.level=p,r(!0)},h=()=>{e.level=0,r(!1),o()},g=()=>{var _;x?d(e):((_=n.current)==null||_.classList.add(b["click-me"]),setTimeout(()=>{var p;(p=n.current)==null||p.classList.remove(b["click-me"])},1e3))};return s("div",{className:b.blur,onClick:h,children:f("div",{className:b["skill-add-window"],onClick:_=>{_.stopPropagation()},children:[s("p",{className:b.title,children:"Adding Skill"}),s(R,{onSkillChange:g,data:e,sign:"+"}),s("div",{className:b.levels,children:s("input",{id:"level-bar",onChange:()=>{var _;k((_=n.current)==null?void 0:_.value)},ref:n,type:"range",min:"1",max:"10"})})]})})},qt=({allSkillsData:e,isLoading:r})=>{const[o,d]=c.exports.useState([]),[x,q]=c.exports.useState(o),[n,k]=c.exports.useState(!1),[h,g]=c.exports.useState([]),[_,p]=c.exports.useState(h),[P,C]=c.exports.useState(!1),[w,N]=c.exports.useState(!1),[W,A]=c.exports.useState(!1),[O,V]=c.exports.useState(e[0]),[B,z]=c.exports.useState(!1),[G,I]=c.exports.useState(void 0),F=c.exports.useRef(null),L=c.exports.useRef(null);c.exports.useEffect(()=>{d(e)},[r]),c.exports.useEffect(()=>{if(localStorage.getItem("leftChar")){const l=JSON.parse(localStorage.getItem("leftChar")||"");g(l);const t=l.map(i=>i.name);d(i=>i.filter(m=>!t.includes(m.name)))}},[]);const H=()=>{var i,m;const l=(i=F.current)==null?void 0:i.value.toLowerCase(),t=(m=L.current)==null?void 0:m.value.toLowerCase();if(l){const $=o.filter(y=>y.names[0].toLowerCase().includes(l));k(!0),q($)}else k(!1);if(t!==void 0){const $=h.filter(y=>y.names[0].toLowerCase().includes(t));C(!0),p($)}else C(!1)},J=()=>{N(!1),A(!1)},u=l=>l.sort((t,i)=>{var m,$;return($=t.names)==null?void 0:$[0].localeCompare((m=i.names)==null?void 0:m[0])}),E=l=>{o.some(t=>t===l)?(N(!0),V(l),w&&!W&&(d(t=>u(t.filter(i=>i!==l))),q(t=>u(t.filter(i=>i!==l))),g(t=>u([...o.filter(i=>i===l),...t])),N(!1),A(!1))):o.some(t=>t!==l)&&(w||(g(t=>u(t.filter(i=>i!==l))),p(t=>u(t.filter(i=>i!==l))),d(t=>u([...h.filter(i=>(l.level=0,i===l)),...t])))),z(!1)},M=l=>{B&&(I(void 0),A(!0),E(l))},U=async()=>{if(h.length===0){console.log("add Skills");return}else localStorage.setItem("leftChar",JSON.stringify(h)),window.dispatchEvent(new Event("storage"))},j=(l,t)=>u(l).map(m=>{if(m.id!==0)return s(R,{onTooltip:{whichTooltip:G,setWhichTooltip:I},onSkillChange:E,data:m,sign:t},m.id)});return s(c.exports.Fragment,{children:s(D,{corner:!0,className:a["skill-selector--card"],children:r?s(Q,{}):f("div",{className:a["skill-selector"],children:[w&&s(xt,{onSetLevel:z,onCancel:J,onSkillAdd:M,skillData:O}),f("div",{className:a["skills-selector__grid"],children:[f("div",{className:a["title-row"],children:[s("p",{className:a.title,children:"All Skills"}),f("div",{className:a["search-field"],children:[s("label",{className:a["search-label"],htmlFor:"search-all",children:"Search"}),s("input",{onChange:H,ref:F,id:"search-all",type:"text"})]})]}),f("div",{className:a["title-row"],children:[s("p",{className:a.title,children:"Added Skills"}),f("div",{className:a["search-field"],children:[s("label",{className:a["search-label"],htmlFor:"search-added",children:"Search"}),s("input",{onChange:H,ref:L,id:"search-added",type:"text"})]})]}),s("div",{className:`${a["skills-menu"]} ${a.all}`,children:j(n===!1?o:x,"+")}),s("div",{className:`${a["skills-menu"]} ${a.added}`,children:j(P===!1?h:_,"-")})]}),s(X,{onClick:U,type:"submit",text:"Save Character",isGreyedOut:h.length===0})]})})})},$t="_creator_1aubq_38";var S={creator:$t,"skill-selector__col":"_skill-selector__col_1aubq_61","image-selector__col":"_image-selector__col_1aubq_78","image-selector":"_image-selector_1aubq_78"};const jt=({allSkillsData:e,isLoading:r})=>f(Y.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},id:"creator",className:S.creator,children:[s("div",{className:S["skill-selector__col"],children:s(qt,{allSkillsData:e,isLoading:r},Math.random())}),s("div",{className:S["image-selector__col"],children:s("div",{className:`${S["image-selector"]} cancel-absolute`,children:s(Z,{onRotateCharacters:()=>{},data:3,name:"Front"})})})]});export{jt as default};
