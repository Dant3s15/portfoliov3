import{j as t,T as K,a as h,r as c,L as Q,B as X,m as Y,C as Z}from"./index.120bd0b1.js";import{C as D}from"./CardGlass.e2fb1161.js";const T="_title_1dqm9_508",ee="_level_1dqm9_545",te="_all_1dqm9_604",le="_skillout_1dqm9_1",se="_added_1dqm9_608",ie="_skillin_1dqm9_1",re="_dummy_1dqm9_1",ce="_shine_1dqm9_1",oe="_shine2_1dqm9_1",ne="_flicker_1dqm9_1",_e="_flicker2_1dqm9_1",de="_flicker3_1dqm9_1",ae="_flickerrev_1dqm9_1",me="_shine3_1dqm9_1",ke="_shine4_1dqm9_1",he="_blink_1dqm9_1",pe="_blink2_1dqm9_1",ue="_pxmove_1dqm9_1",xe="_lineheight_1dqm9_1",fe="_lineheight2_1dqm9_1",ve="_popzoom_1dqm9_1",qe="_cardmove_1dqm9_1",$e="_cardmoverev_1dqm9_1",be="_jump_1dqm9_1",ye="_jumpnorotate_1dqm9_1",ge="_slidedown_1dqm9_1",je="_backdropblur_1dqm9_1",Se="_cardrotate_1dqm9_1",we="_cardrotate2_1dqm9_1",Ne="_fadein_1dqm9_1",Ae="_opacity_1dqm9_1",Ce="_cursor_1dqm9_1",ze="_cardslide_1dqm9_1",Ie="_cardslidenotranslate_1dqm9_1",Fe="_cardslideback_1dqm9_1",Le="_zindex_1dqm9_1",He="_zindexback_1dqm9_1",Ee="_test_1dqm9_1",Re="_slideinfromtop_1dqm9_1",Pe="_levelblink_1dqm9_1",We="_tilepopup_1dqm9_1",Oe="_dropshadow_1dqm9_1";var d={"skill-selector--card":"_skill-selector--card_1dqm9_477","skill-selector":"_skill-selector_1dqm9_477","skills-selector__grid":"_skills-selector__grid_1dqm9_501","title-row":"_title-row_1dqm9_508",title:T,"skills-menu":"_skills-menu_1dqm9_522",level:ee,"search-field":"_search-field_1dqm9_548","search-label":"_search-label_1dqm9_579",all:te,skillout:le,added:se,skillin:ie,"slide-right-left":"_slide-right-left_1dqm9_1","slide-left-right":"_slide-left-right_1dqm9_1","rotate-left-right":"_rotate-left-right_1dqm9_1",dummy:re,shine:ce,shine2:oe,flicker:ne,flicker2:_e,flicker3:de,flickerrev:ae,shine3:me,shine4:ke,blink:he,blink2:pe,pxmove:ue,lineheight:xe,lineheight2:fe,popzoom:ve,cardmove:qe,cardmoverev:$e,jump:be,jumpnorotate:ye,slidedown:ge,backdropblur:je,cardrotate:Se,cardrotate2:we,fadein:Ne,opacity:Ae,cursor:Ce,cardslide:ze,cardslidenotranslate:Ie,cardslideback:Fe,zindex:Le,zindexback:He,test:Ee,slideinfromtop:Re,levelblink:Pe,tilepopup:We,dropshadow:Oe};const Ve="_tooltip_1hrry_38";var Be={tooltip:Ve};const Ge=({data:e})=>{const r=(o,a)=>{if(o)return o.length>a?`${o.slice(0,a)}...`:o};return t("div",{className:Be.tooltip,children:r(e.description,230)})},Je="_skill_ikx4y_477",Me="_icon_ikx4y_517",Ue="_name_ikx4y_537",Ke="_level_ikx4y_600",Qe="_slideinfromtop_ikx4y_1",Xe="_dummy_ikx4y_1",Ye="_shine_ikx4y_1",Ze="_shine2_ikx4y_1",De="_flicker_ikx4y_1",Te="_flicker2_ikx4y_1",et="_flicker3_ikx4y_1",tt="_flickerrev_ikx4y_1",lt="_shine3_ikx4y_1",st="_shine4_ikx4y_1",it="_blink_ikx4y_1",rt="_blink2_ikx4y_1",ct="_pxmove_ikx4y_1",ot="_lineheight_ikx4y_1",nt="_lineheight2_ikx4y_1",_t="_popzoom_ikx4y_1",dt="_cardmove_ikx4y_1",at="_cardmoverev_ikx4y_1",mt="_jump_ikx4y_1",kt="_jumpnorotate_ikx4y_1",ht="_slidedown_ikx4y_1",pt="_backdropblur_ikx4y_1",ut="_cardrotate_ikx4y_1",xt="_cardrotate2_ikx4y_1",ft="_fadein_ikx4y_1",vt="_opacity_ikx4y_1",qt="_cursor_ikx4y_1",$t="_cardslide_ikx4y_1",bt="_cardslidenotranslate_ikx4y_1",yt="_cardslideback_ikx4y_1",gt="_zindex_ikx4y_1",jt="_zindexback_ikx4y_1",St="_test_ikx4y_1",wt="_skillin_ikx4y_1",Nt="_skillout_ikx4y_1",At="_levelblink_ikx4y_1",Ct="_tilepopup_ikx4y_1",zt="_dropshadow_ikx4y_1";var f={skill:Je,icon:Me,name:Ue,"manage-skill":"_manage-skill_ikx4y_570",level:Ke,slideinfromtop:Qe,"level-number":"_level-number_ikx4y_616","has-tooltip":"_has-tooltip_ikx4y_641","slide-right-left":"_slide-right-left_ikx4y_1","slide-left-right":"_slide-left-right_ikx4y_1","rotate-left-right":"_rotate-left-right_ikx4y_1",dummy:Xe,shine:Ye,shine2:Ze,flicker:De,flicker2:Te,flicker3:et,flickerrev:tt,shine3:lt,shine4:st,blink:it,blink2:rt,pxmove:ct,lineheight:ot,lineheight2:nt,popzoom:_t,cardmove:dt,cardmoverev:at,jump:mt,jumpnorotate:kt,slidedown:ht,backdropblur:pt,cardrotate:ut,cardrotate2:xt,fadein:ft,opacity:vt,cursor:qt,cardslide:$t,cardslidenotranslate:bt,cardslideback:yt,zindex:gt,zindexback:jt,test:St,skillin:wt,skillout:Nt,levelblink:At,tilepopup:Ct,dropshadow:zt};const R=({data:e,onTooltip:r,onSkillChange:o,sign:a})=>{const v=(n,p)=>n.length>p?`${n.slice(0,p)}...`:n,q=t(K,{placement:"top",title:`${e.name.toUpperCase()} Proficiency Level`,children:t("div",{className:f.level,children:t("p",{className:f["level-number"],children:e.level},Math.random())})});return h("div",{className:`${f.skill} ${(r==null?void 0:r.whichTooltip)===(e==null?void 0:e.id)?f["has-tooltip"]:""}`,onClick:()=>{console.log("click"),(e==null?void 0:e.id)!==(r==null?void 0:r.whichTooltip)?r==null||r.setWhichTooltip(e==null?void 0:e.id):r.setWhichTooltip(void 0)},children:[t("div",{className:f.icon,children:t("img",{src:e==null?void 0:e.icon,alt:`${e==null?void 0:e.names[0]} icon`})}),t("div",{className:f.name,children:v(e.names[0],12)}),e.level?q:"",t("button",{onClick:n=>{n.stopPropagation(),o(e)},className:f["manage-skill"],children:a}),t(Ge,{data:e})]})},It="_blur_x3tjq_477",Ft="_opacity_x3tjq_1",Lt="_title_x3tjq_499",Ht="_levelblink_x3tjq_1",Et="_levels_x3tjq_510",Rt="_dropshadow_x3tjq_1",Pt="_dummy_x3tjq_1",Wt="_shine_x3tjq_1",Ot="_shine2_x3tjq_1",Vt="_flicker_x3tjq_1",Bt="_flicker2_x3tjq_1",Gt="_flicker3_x3tjq_1",Jt="_flickerrev_x3tjq_1",Mt="_shine3_x3tjq_1",Ut="_shine4_x3tjq_1",Kt="_blink_x3tjq_1",Qt="_blink2_x3tjq_1",Xt="_pxmove_x3tjq_1",Yt="_lineheight_x3tjq_1",Zt="_lineheight2_x3tjq_1",Dt="_popzoom_x3tjq_1",Tt="_cardmove_x3tjq_1",el="_cardmoverev_x3tjq_1",tl="_jump_x3tjq_1",ll="_jumpnorotate_x3tjq_1",sl="_slidedown_x3tjq_1",il="_backdropblur_x3tjq_1",rl="_cardrotate_x3tjq_1",cl="_cardrotate2_x3tjq_1",ol="_fadein_x3tjq_1",nl="_cursor_x3tjq_1",_l="_cardslide_x3tjq_1",dl="_cardslidenotranslate_x3tjq_1",al="_cardslideback_x3tjq_1",ml="_zindex_x3tjq_1",kl="_zindexback_x3tjq_1",hl="_test_x3tjq_1",pl="_skillin_x3tjq_1",ul="_skillout_x3tjq_1",xl="_slideinfromtop_x3tjq_1",fl="_tilepopup_x3tjq_1";var b={blur:It,opacity:Ft,"skill-add-window":"_skill-add-window_x3tjq_489",title:Lt,levelblink:Ht,levels:Et,"click-me":"_click-me_x3tjq_564",dropshadow:Rt,"slide-right-left":"_slide-right-left_x3tjq_1","slide-left-right":"_slide-left-right_x3tjq_1","rotate-left-right":"_rotate-left-right_x3tjq_1",dummy:Pt,shine:Wt,shine2:Ot,flicker:Vt,flicker2:Bt,flicker3:Gt,flickerrev:Jt,shine3:Mt,shine4:Ut,blink:Kt,blink2:Qt,pxmove:Xt,lineheight:Yt,lineheight2:Zt,popzoom:Dt,cardmove:Tt,cardmoverev:el,jump:tl,jumpnorotate:ll,slidedown:sl,backdropblur:il,cardrotate:rl,cardrotate2:cl,fadein:ol,cursor:nl,cardslide:_l,cardslidenotranslate:dl,cardslideback:al,zindex:ml,zindexback:kl,test:hl,skillin:pl,skillout:ul,slideinfromtop:xl,tilepopup:fl};const vl=({skillData:e,onSetLevel:r,onCancel:o,onSkillAdd:a})=>{const[v,q]=c.exports.useState(null),n=c.exports.useRef(null);c.exports.useEffect(()=>{const _=n==null?void 0:n.current;_&&(_.value="5")},[]);const p=_=>{let u=+_;q(+_),e.level=u,r(!0)},k=()=>{e.level=0,r(!1),o()},y=()=>{var _;v?a(e):((_=n.current)==null||_.classList.add(b["click-me"]),setTimeout(()=>{var u;(u=n.current)==null||u.classList.remove(b["click-me"])},1e3))};return t("div",{className:b.blur,onClick:k,children:h("div",{className:b["skill-add-window"],onClick:_=>{_.stopPropagation()},children:[t("p",{className:b.title,children:"Adding Skill"}),t(R,{onSkillChange:y,data:e,sign:"+"}),t("div",{className:b.levels,children:t("input",{id:"level-bar",onChange:()=>{var _;p((_=n.current)==null?void 0:_.value)},ref:n,type:"range",min:"1",max:"10"})})]})})},ql=({allSkillsData:e,isLoading:r})=>{const[o,a]=c.exports.useState([]),[v,q]=c.exports.useState(o),[n,p]=c.exports.useState(!1),[k,y]=c.exports.useState([]),[_,u]=c.exports.useState(k),[P,C]=c.exports.useState(!1),[S,w]=c.exports.useState(!1),[W,N]=c.exports.useState(!1),[O,V]=c.exports.useState(e[0]),[B,z]=c.exports.useState(!1),[G,I]=c.exports.useState(void 0),F=c.exports.useRef(null),L=c.exports.useRef(null);c.exports.useEffect(()=>{a(e)},[r]),c.exports.useEffect(()=>{if(localStorage.getItem("leftChar")){const s=JSON.parse(localStorage.getItem("leftChar")||"");y(s);const l=s.map(i=>i.name);a(i=>i.filter(m=>!l.includes(m.name)))}},[]);const H=()=>{var i,m;const s=(i=F.current)==null?void 0:i.value.toLowerCase(),l=(m=L.current)==null?void 0:m.value.toLowerCase();if(s){const $=o.filter(A=>A.names[0].toLowerCase().includes(s));p(!0),q($)}else p(!1);if(l!==void 0){const $=k.filter(A=>A.names[0].toLowerCase().includes(l));C(!0),u($)}else C(!1)},J=()=>{w(!1),N(!1)},x=s=>s.sort((l,i)=>{var m,$;return($=l.names)==null?void 0:$[0].localeCompare((m=i.names)==null?void 0:m[0])}),E=s=>{o.some(l=>l===s)?(w(!0),V(s),S&&!W&&(a(l=>x(l.filter(i=>i!==s))),q(l=>x(l.filter(i=>i!==s))),y(l=>x([...o.filter(i=>i===s),...l])),w(!1),N(!1))):o.some(l=>l!==s)&&(S||(y(l=>x(l.filter(i=>i!==s))),u(l=>x(l.filter(i=>i!==s))),a(l=>x([...k.filter(i=>(s.level=0,i===s)),...l])))),z(!1)},M=s=>{B&&(I(void 0),N(!0),E(s))},U=async()=>{if(k.length===0){console.log("add Skills");return}else localStorage.setItem("leftChar",JSON.stringify(k)),window.dispatchEvent(new Event("storage"))},g=(s,l)=>x(s).map(m=>{if(m.id!==0)return t(R,{onTooltip:{whichTooltip:G,setWhichTooltip:I},onSkillChange:E,data:m,sign:l},m.id)});return t(c.exports.Fragment,{children:t(D,{corner:!0,className:d["skill-selector--card"],children:r?t(Q,{}):h("div",{className:d["skill-selector"],children:[S&&t(vl,{onSetLevel:z,onCancel:J,onSkillAdd:M,skillData:O}),h("div",{className:d["skills-selector__grid"],children:[h("div",{className:d["title-row"],children:[t("p",{className:d.title,children:"All Skills"}),h("div",{className:d["search-field"],children:[t("label",{className:d["search-label"],htmlFor:"search-all",children:"Search"}),t("input",{onChange:H,ref:F,id:"search-all",type:"text"})]})]}),h("div",{className:d["title-row"],children:[t("p",{className:d.title,children:"Added Skills"}),h("div",{className:d["search-field"],children:[t("label",{className:d["search-label"],htmlFor:"search-added",children:"Search"}),t("input",{onChange:H,ref:L,id:"search-added",type:"text"})]})]}),t("div",{className:`${d["skills-menu"]} ${d.all}`,children:g(n===!1?o:v,"+")}),t("div",{className:`${d["skills-menu"]} ${d.added}`,children:g(P===!1?k:_,"-")})]}),t(X,{onClck:U,type:"submit",text:"Save Character",isGreyedOut:k.length===0})]})})})},$l="_creator_1aubq_38";var j={creator:$l,"skill-selector__col":"_skill-selector__col_1aubq_61","image-selector__col":"_image-selector__col_1aubq_78","image-selector":"_image-selector_1aubq_78"};const gl=({allSkillsData:e,isLoading:r})=>h(Y.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},id:"creator",className:j.creator,children:[t("div",{className:j["skill-selector__col"],children:t(ql,{allSkillsData:e,isLoading:r},Math.random())}),t("div",{className:j["image-selector__col"],children:t("div",{className:`${j["image-selector"]} cancel-absolute`,children:t(Z,{onRotateCharacters:()=>{},data:3,name:"Front"})})})]});export{gl as default};
